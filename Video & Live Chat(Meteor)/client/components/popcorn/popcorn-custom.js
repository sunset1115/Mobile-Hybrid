/*
 * popcorn.js version v1.5.7
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

!function(){if(!document.addEventListener&&!document.removeEventListener&&!document.dispatchEvent){var t={},e=function(e,n){return e="DOMContentLoaded"===e?"readystatechange":e,Event[e.toUpperCase()]||"readystatechange"===e?void document.attachEvent("on"+e,n):(t[e]||(t[e]={events:[],queue:[],active:!1}),void(t[e].active?t[e].queue.push(n):t[e].events.push(n)))},n=function(e,n){e="DOMContentLoaded"===e?"readystatechange":e;var r=0,i=t[e];if(Event[e.toUpperCase()]||"readystatechange"===e)return void document.detachEvent("on"+e,n);if(i){for(r=i.events.length-1;r>=0;r--)n===i.events[r]&&delete i.events[r];for(r=i.queue.length-1;r>=0;r--)n===i.queue[r]&&delete i.queue[r]}},r=function(e){var n,r,i,a,o=this,s=e.type;if(s||(s=e,r=Popcorn.events.getInterface(s),r&&(n=document.createEvent(r),n.initCustomEvent(s,!0,!0,window,1))),i=t[s]){i.active=!0;for(var u=0;u<i.events.length;u++)i.events[u]&&i.events[u].call(o,n,o);if(i.queue.length)for(;i.queue.length;)a=i.queue.shift(),a&&i.events.push(a);i.active=!1,i.events.forEach(function(t){t||i.events.splice(i.events.indexOf(t),1)}),i.queue.forEach(function(t){t||i.queue.splice(i.queue.indexOf(t),1)})}};document.addEventListener=e,document.removeEventListener=n,document.dispatchEvent=r}Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),window.addEventListener=window.addEventListener||function(t,e){t="on"+t,window.attachEvent(t,e)},window.removeEventListener=window.removeEventListener||function(t,e){t="on"+t,window.detachEvent(t,e)},HTMLScriptElement.prototype.addEventListener=HTMLScriptElement.prototype.addEventListener||function(t,e){t="load"===t?"onreadystatechange":"on"+t,"onreadystatechange"===t&&(e.readyStateCheck=e.readyStateCheck||function(t){"loaded"===self.readyState&&e(t)}),this.attachEvent(t,e.readyStateCheck||e)},HTMLScriptElement.prototype.removeEventListener=HTMLScriptElement.prototype.removeEventListener||function(t,e){t="load"===t?"onreadystatechange":"on"+t,this.detachEvent(t,e.readyStateCheck||e)},document.createEvent=document.createEvent||function(){return{type:null,target:null,currentTarget:null,cancelable:!1,detail:!1,bubbles:!1,initEvent:function(t){this.type=t},initCustomEvent:function(t,e,n,r){this.type=t,this.detail=r},stopPropagation:function(){},stopImmediatePropagation:function(){}}},Array.prototype.forEach=Array.prototype.forEach||function(t,e){var n=this,r=Object.prototype.hasOwnProperty;if(!n||!t)return{};e=e||this;var i;for(i in n)r.call(n,i)&&t.call(e,n[i],i,n);return n},Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i;if(null==this)throw new TypeError("this is null or not defined");var a=Object(this),o=a.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=new Array(o),i=0;o>i;){var s,u;i in a&&(s=a[i],u=t.call(n,s,i,a),r[i]=u),i++}return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&1/0!=r&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in e&&e[i]===t)return i;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var a,o,s=[];for(a in i)t.call(i,a)&&s.push(a);if(e)for(o=0;r>o;o++)t.call(i,n[o])&&s.push(n[o]);return s}}()),Object.defineProperties||(Object.defineProperties=function(t,e){function n(e){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t){return"function"==typeof t}if("object"!=typeof e||null===e)throw new TypeError("bad desc");var i={};if(n(e,"enumerable")&&(i.enumerable=!!t.enumerable),n(e,"configurable")&&(i.configurable=!!e.configurable),n(e,"value")&&(i.value=t.value),n(e,"writable")&&(i.writable=!!e.writable),n(e,"get")){var a=e.get;if(!r(a)&&"undefined"!==a)throw new TypeError("bad get");i.get=a}if(n(e,"set")){var o=e.set;if(!r(o)&&"undefined"!==o)throw new TypeError("bad set");i.set=o}if(("get"in i||"set"in i)&&("value"in i||"writable"in i))throw new TypeError("identity-confused descriptor");return i}if("object"!=typeof t||null===t)throw new TypeError("bad obj");e=Object(e);for(var r=Object.keys(e),i=[],a=0;a<r.length;a++)i.push([r[a],n(e[r[a]])]);for(var a=0;a<i.length;a++)Object.defineProperty(t,i[a][0],i[a][1]);return t})}(),function(t,e){function n(t){b.put.call(this,t)}function r(t){this.parent=t,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,this.count=1}function i(t,e,n){return t[e]&&t[e]===n}function a(t,e){var n={};for(var r in t)l.call(e,r)&&l.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){return function(){if(_.plugin.debug)return t.apply(this,arguments);try{return t.apply(this,arguments)}catch(n){_.plugin.errors.push({plugin:e,thrown:n,source:t.toString()}),this.emit("pluginerror",_.plugin.errors)}}}if(e.addEventListener){var s=Array.prototype,u=Object.prototype,c=s.forEach,d=s.slice,l=u.hasOwnProperty,p=u.toString,f=t.Popcorn,h=[],v=!1,y=!1,g={events:{hash:{},apis:{}}},m=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,16)}}(),E=function(t){return Object.keys?Object.keys(t):function(t){var e,n=[];for(e in t)l.call(t,e)&&n.push(e);return n}(t)},b={put:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},_=function(t,e){return new _.p.init(t,e||null)};_.version="@VERSION",_.isSupported=!0,_.instances=[],_.p=_.prototype={init:function(t,n){var i,a,o=this;{if("function"!=typeof t){if("string"==typeof t)try{i=e.querySelector(t)}catch(s){throw new Error("Popcorn.js Error: Invalid media element selector: "+t)}if(this.media=i||t,a=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[a]=this.media,this.options=_.extend({},n)||{},this.id=this.options.id||_.guid(a),_.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:_.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new r(this)},_.instances.push(this);var u=function(){o.media.currentTime<0&&(o.media.currentTime=0),o.media.removeEventListener("loadedmetadata",u,!1);var t,e,n,r,i,a;t=o.media.duration,e=t!=t?Number.MAX_VALUE:t+1,_.addTrackEvent(o,{start:e,end:e}),o.isDestroyed||(o.data.durationChange=function(){var t=o.media.duration,e=t+1,n=o.data.trackEvents.byStart,r=o.data.trackEvents.byEnd;n.pop(),r.pop();for(var i=r.length-1;i>0;i--)r[i].end>t&&o.removeTrackEvent(r[i]._id);for(var a=0;a<n.length;a++)n[a].end>t&&o.removeTrackEvent(n[a]._id);o.data.trackEvents.byEnd.push({start:e,end:e}),o.data.trackEvents.byStart.push({start:e,end:e})},o.media.addEventListener("durationchange",o.data.durationChange,!1)),o.options.frameAnimation?(o.data.timeUpdate=function(){_.timeUpdate(o,{}),_.forEach(_.manifest,function(t,e){if(n=o.data.running[e]){i=n.length;for(var s=0;i>s;s++)r=n[s],a=r._natives,a&&a.frame&&a.frame.call(o,{},r,o.currentTime())}}),o.emit("timeupdate"),!o.isDestroyed&&m(o.data.timeUpdate)},!o.isDestroyed&&m(o.data.timeUpdate)):(o.data.timeUpdate=function(t){_.timeUpdate(o,t)},o.isDestroyed||o.media.addEventListener("timeupdate",o.data.timeUpdate,!1))};return o.media.addEventListener("error",function(){o.error=o.media.error},!1),o.media.readyState>=1?u():o.media.addEventListener("loadedmetadata",u,!1),this}if("complete"===e.readyState)return void t(e,_);if(h.push(t),!v){v=!0;var c=function(){y=!0,e.removeEventListener("DOMContentLoaded",c,!1);for(var t=0,n=h.length;n>t;t++)h[t].call(e,_);h=null};e.addEventListener("DOMContentLoaded",c,!1)}}}},_.p.init.prototype=_.p,_.byId=function(t){for(var e=_.instances,n=e.length,r=0;n>r;r++)if(e[r].id===t)return e[r];return null},_.forEach=function(t,e,n){if(!t||!e)return{};n=n||this;var r,i;if(c&&t.forEach===c)return t.forEach(e,n);if("[object NodeList]"===p.call(t)){for(r=0,i=t.length;i>r;r++)e.call(n,t[r],r,t);return t}for(r in t)l.call(t,r)&&e.call(n,t[r],r,t);return t},_.extend=function(t){var e=t,n=d.call(arguments,1);return _.forEach(n,function(t){for(var n in t)e[n]=t[n]}),e},_.extend(_,{noConflict:function(e){return e&&(t.Popcorn=f),_},error:function(t){throw new Error(t)},guid:function(t){return _.guid.counter++,(t?t:"")+(+new Date+_.guid.counter)},sizeOf:function(t){var e=0;for(var n in t)e++;return e},isArray:Array.isArray||function(t){return"[object Array]"===p.call(t)},nop:function(){},position:function(n){if(!n.parentNode)return null;var r,i,a,o,s,u,c=n.getBoundingClientRect(),d={},l=(n.ownerDocument,e.documentElement),p=e.body;r=l.clientTop||p.clientTop||0,i=l.clientLeft||p.clientLeft||0,a=t.pageYOffset&&l.scrollTop||p.scrollTop,o=t.pageXOffset&&l.scrollLeft||p.scrollLeft,s=Math.ceil(c.top+a-r),u=Math.ceil(c.left+o-i);for(var f in c)d[f]=Math.round(c[f]);return _.extend({},d,{top:s,left:u})},disable:function(t,e){if(!t.data.disabled[e]){if(t.data.disabled[e]=!0,e in _.registryByName&&t.data.running[e])for(var n,r=t.data.running[e].length-1;r>=0;r--)n=t.data.running[e][r],n._natives.end.call(t,null,n),t.emit("trackend",_.extend({},n,{plugin:n.type,type:"trackend"}));return t}},enable:function(t,e){if(t.data.disabled[e]){if(t.data.disabled[e]=!1,e in _.registryByName&&t.data.running[e])for(var n,r=t.data.running[e].length-1;r>=0;r--)n=t.data.running[e][r],n._natives.start.call(t,null,n),t.emit("trackstart",_.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return t}},destroy:function(t){var e,n,r,i,a=t.data.events,o=t.data.trackEvents;for(n in a){e=a[n];for(r in e)delete e[r];a[n]=null}for(i in _.registryByName)_.removePlugin(t,i);o.byStart.length=0,o.byEnd.length=0,t.isDestroyed||(t.data.timeUpdate&&t.media.removeEventListener("timeupdate",t.data.timeUpdate,!1),t.isDestroyed=!0),_.instances.splice(_.instances.indexOf(t),1)}}),_.guid.counter=1,_.extend(_.p,function(){var t="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",e={};return _.forEach(t.split(/\s+/g),function(t){e[t]=function(e){var n;return"function"==typeof this.media[t]?(null!=e&&/play|pause/.test(t)&&(this.media.currentTime=_.util.toSeconds(e)),this.media[t](),this):null!=e?(n=this.media[t],this.media[t]=e,n!==e&&this.emit("attrchange",{attribute:t,previousValue:n,currentValue:e}),this):this.media[t]}}),e}()),_.forEach("enable disable".split(" "),function(t){_.p[t]=function(e){return _[t](this,e)}}),_.extend(_.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(t,e,r){var i,a,o,s=arguments.length,u="trackadded";try{a=_.util.toSeconds(t)}catch(c){}if("number"==typeof a&&(t=a),"number"==typeof t&&2===s)r=e,e=t,t=_.guid("cue");else if(1===s)e=-1;else if(i=this.getTrackEvent(t))this.data.trackEvents.remove(t),n.end(this,i),_.removeTrackEvent.ref(this,t),u="cuechange","string"==typeof t&&2===s&&("number"==typeof e&&(r=i._natives.start),"function"==typeof e&&(r=e,e=i.start));else if(s>=2){if("string"==typeof e){try{a=_.util.toSeconds(e)}catch(c){}e=a}"number"==typeof e&&(r=r||_.nop()),"function"==typeof e&&(r=e,e=-1)}return o={id:t,start:e,end:e+1,_running:!1,_natives:{start:r||_.nop,end:_.nop,type:"cue"}},i&&(o=_.extend(i,o)),"cuechange"===u?(o._id=o.id||o._id||_.guid(o._natives.type),this.data.trackEvents.add(o),n.start(this,o),this.timeUpdate(this,null,!0),_.addTrackEvent.ref(this,o),this.emit(u,_.extend({},o,{id:t,type:u,previousValue:{time:i.start,fn:i._natives.start},currentValue:{time:e,fn:r||_.nop},track:i}))):_.addTrackEvent(this,o),this},mute:function(t){var e=null==t||t===!0?"muted":"unmuted";return"unmuted"===e&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===e&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(e),this},unmute:function(t){return this.mute(null==t?!1:!t)},position:function(){return _.position(this.media)},toggle:function(t){return _[this.data.disabled[t]?"enable":"disable"](this,t)},defaults:function(t,e){return _.isArray(t)?(_.forEach(t,function(t){for(var e in t)this.defaults(e,t[e])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[t]||(this.options.defaults[t]={}),_.extend(this.options.defaults[t],e),this)}}),_.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},_.Events.Natives=_.Events.UIEvents+" "+_.Events.MouseEvents+" "+_.Events.Events,g.events.apiTypes=["UIEvents","MouseEvents","Events"],function(t,e){for(var n=g.events.apiTypes,r=t.Natives.split(/\s+/g),i=0,a=r.length;a>i;i++)e.hash[r[i]]=!0;n.forEach(function(n){e.apis[n]={};for(var r=t[n].split(/\s+/g),i=r.length,a=0;i>a;a++)e.apis[n][r[a]]=!0})}(_.Events,g.events),_.events={isNative:function(t){return!!g.events.hash[t]},getInterface:function(t){if(!_.events.isNative(t))return!1;for(var e,n,r=g.events,i=r.apiTypes,a=r.apis,o=0,s=i.length;s>o;o++)if(n=i[o],a[n][t]){e=n;break}return e},all:_.Events.Natives.split(/\s+/g),fn:{trigger:function(n,r){var i,a,o,s=this.data.events[n];if(s){if(i=_.events.getInterface(n))return a=e.createEvent(i),a.initEvent(n,!0,!0,t,1),this.media.dispatchEvent(a),this;for(o=s.slice();o.length;)o.shift().call(this,r)}return this},listen:function(t,e){var n,r,i=this,a=!0,o=_.events.hooks[t];if("function"!=typeof e)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[t]||(this.data.events[t]=[],a=!1),o&&(o.add&&o.add.call(this,{},e),o.bind&&(t=o.bind),o.handler&&(r=e,e=function(t){o.handler.call(i,t,r)}),a=!0,this.data.events[t]||(this.data.events[t]=[],a=!1)),this.data.events[t].push(e),!a&&_.events.all.indexOf(t)>-1&&this.media.addEventListener(t,function(e){if(i.data.events[t])for(n=i.data.events[t].slice();n.length;)n.shift().call(i,e)},!1),this},unlisten:function(t,e){var n,r=this.data.events[t];if(r){if("string"==typeof e){for(var i=0;i<r.length;i++)r[i].name===e&&r.splice(i--,1);return this}if("function"==typeof e){for(;-1!==n;)n=r.indexOf(e),-1!==n&&r.splice(n,1);return this}return this.data.events[t]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(t,e){var n=!1;this.media.readyState&&(setTimeout(function(){e.call(this,t)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(t,e){this.data.hooks.canplayall.fired||(e.call(this,t),this.data.hooks.canplayall.fired=!0)}}}},_.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(t){_.p[t[0]]=_.p[t[1]]=_.events.fn[t[0]]}),n.start=function(t,e){e.end>t.media.currentTime&&e.start<=t.media.currentTime&&!e._running&&(e._running=!0,t.data.running[e._natives.type].push(e),t.data.disabled[e._natives.type]||(e._natives.start.call(t,null,e),t.emit("trackstart",_.extend({},e,{plugin:e._natives.type,type:"trackstart",track:e}))))},n.end=function(t,e){var n;(e.end<=t.media.currentTime||e.start>t.media.currentTime)&&e._running&&(n=t.data.running[e._natives.type],e._running=!1,n.splice(n.indexOf(e),1),t.data.disabled[e._natives.type]||(e._natives.end.call(t,null,e),t.emit("trackend",_.extend({},e,{plugin:e._natives.type,type:"trackend",track:e}))))},r.prototype.where=function(t){return(this.parent.getTrackEvents()||[]).filter(function(e){var n,r;if(!t)return!0;for(n in t)if(r=t[n],i(e,n,r)||i(e._natives,n,r))return!0;return!1})},r.prototype.add=function(t){var e,n,r=this.byStart,i=this.byEnd;for(t&&t._id&&this.parent.data.history.push(t._id),t.start=_.util.toSeconds(t.start,this.parent.options.framerate),t.end=_.util.toSeconds(t.end,this.parent.options.framerate),e=r.length-1;e>=0;e--)if(t.start>=r[e].start){r.splice(e+1,0,t);break}for(n=i.length-1;n>=0;n--)if(t.end>i[n].end){i.splice(n+1,0,t);break}e<=this.parent.data.trackEvents.startIndex&&t.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&t.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++,this.count++},r.prototype.remove=function(t,e){if(t instanceof n&&(t=t.id),"object"==typeof t)return this.where(t).forEach(function(t){this.removeTrackEvent(t._id)},this.parent),this;var r,i,a,o,s,u=this.byStart.length,c=0,d=0,l=[],p=[],f=[],h=[];for(e=e||{};--u>-1;)r=this.byStart[c],i=this.byEnd[c],r._id||(l.push(r),p.push(i)),r._id&&(r._id!==t&&l.push(r),i._id!==t&&p.push(i),r._id===t&&(d=c,s=r)),c++;if(u=this.animating.length,c=0,u)for(;--u>-1;)a=this.animating[c],a._id||f.push(a),a._id&&a._id!==t&&f.push(a),c++;d<=this.startIndex&&this.startIndex--,d<=this.endIndex&&this.endIndex--,this.byStart=l,this.byEnd=p,this.animating=f,this.count--,o=this.parent.data.history.length;for(var v=0;o>v;v++)this.parent.data.history[v]!==t&&h.push(this.parent.data.history[v]);this.parent.data.history=h},_.addTrackEvent=function(t,e){var r;e instanceof n||(e=new n(e),e&&e._natives&&e._natives.type&&t.options.defaults&&t.options.defaults[e._natives.type]&&(r=_.extend({},e),_.extend(e,t.options.defaults[e._natives.type],r)),e._natives&&(e._id=e.id||e._id||_.guid(e._natives.type),e._natives._setup&&(e._natives._setup.call(t,e),t.emit("tracksetup",_.extend({},e,{plugin:e._natives.type,type:"tracksetup",track:e})))),t.data.trackEvents.add(e),n.start(t,e),this.timeUpdate(t,null,!0),e._id&&_.addTrackEvent.ref(t,e),t.emit("trackadded",_.extend({},e,e._natives?{plugin:e._natives.type}:{},{type:"trackadded",track:e})))},_.addTrackEvent.ref=function(t,e){return t.data.trackRefs[e._id]=e,t},_.removeTrackEvent=function(t,e){var n=t.getTrackEvent(e);n&&(n._natives._teardown&&n._natives._teardown.call(t,n),t.data.trackEvents.remove(e),_.removeTrackEvent.ref(t,e),n._natives&&t.emit("trackremoved",_.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},_.removeTrackEvent.ref=function(t,e){return delete t.data.trackRefs[e],t},_.getTrackEvents=function(t){for(var e,n=[],r=t.data.trackEvents.byStart,i=r.length,a=0;i>a;a++)e=r[a],e._id&&n.push(e);return n},_.getTrackEvents.ref=function(t){return t.data.trackRefs},_.getTrackEvent=function(t,e){return t.data.trackRefs[e]},_.getTrackEvent.ref=function(t,e){return t.data.trackRefs[e]},_.getLastTrackEventId=function(t){return t.data.history[t.data.history.length-1]},_.timeUpdate=function(t,e){var n,r,i,a,o,s=t.media.currentTime,u=t.data.trackEvents.previousUpdateTime,c=t.data.trackEvents,d=c.endIndex,l=c.startIndex,p=c.byStart.length,f=c.byEnd.length,h=_.registryByName,v="trackstart",y="trackend";if(s>=u){for(;c.byEnd[d]&&c.byEnd[d].end<=s;){if(n=c.byEnd[d],i=n._natives,a=i&&i.type,i&&!h[a]&&!t[a])return void _.removeTrackEvent(t,n._id);n._running===!0&&(n._running=!1,o=t.data.running[a],o.splice(o.indexOf(n),1),t.data.disabled[a]||(i.end.call(t,e,n),t.emit(y,_.extend({},n,{plugin:a,type:y,track:n})))),d++}for(;c.byStart[l]&&c.byStart[l].start<=s;){if(r=c.byStart[l],i=r._natives,a=i&&i.type,i&&!h[a]&&!t[a])return void _.removeTrackEvent(t,r._id);r.end>s&&r._running===!1&&(r._running=!0,t.data.running[a].push(r),t.data.disabled[a]||(i.start.call(t,e,r),t.emit(v,_.extend({},r,{plugin:a,type:v,track:r})))),l++}}else if(u>s){for(;c.byStart[l]&&c.byStart[l].start>s;){if(r=c.byStart[l],i=r._natives,a=i&&i.type,i&&!h[a]&&!t[a])return void _.removeTrackEvent(t,r._id);r._running===!0&&(r._running=!1,o=t.data.running[a],o.splice(o.indexOf(r),1),t.data.disabled[a]||(i.end.call(t,e,r),t.emit(y,_.extend({},r,{plugin:a,type:y,track:r})))),l--}for(;c.byEnd[d]&&c.byEnd[d].end>s;){if(n=c.byEnd[d],i=n._natives,a=i&&i.type,i&&!h[a]&&!t[a])return void _.removeTrackEvent(t,n._id);n.start<=s&&n._running===!1&&(n._running=!0,t.data.running[a].push(n),t.data.disabled[a]||(i.start.call(t,e,n),t.emit(v,_.extend({},n,{plugin:a,type:v,track:n})))),d--}}c.endIndex=d,c.startIndex=l,c.previousUpdateTime=s,c.byStart.length<p&&c.startIndex--,c.byEnd.length<f&&c.endIndex--},_.extend(_.p,{getTrackEvents:function(){return _.getTrackEvents.call(null,this)},getTrackEvent:function(t){return _.getTrackEvent.call(null,this,t)},getLastTrackEventId:function(){return _.getLastTrackEventId.call(null,this)},removeTrackEvent:function(t){return _.removeTrackEvent.call(null,this,t),this},removePlugin:function(t){return _.removePlugin.call(null,this,t),this},timeUpdate:function(t){return _.timeUpdate.call(null,this,t),this},destroy:function(){return _.destroy.call(null,this),this}}),_.manifest={},_.registry=[],_.registryByName={},_.plugin=function(t,e,r){if(_.protect.natives.indexOf(t.toLowerCase())>=0)return void _.error("'"+t+"' is a protected function name");var i="function"==typeof e,s=["start","end","type","manifest"],u=["_setup","_teardown","start","end","frame"],c={},p=function(t,e){return t=t||_.nop,e=e||_.nop,function(){t.apply(this,arguments),e.apply(this,arguments)}};_.manifest[t]=r=r||e.manifest||{},u.forEach(function(n){e[n]=o(e[n]||_.nop,t)});var f=function(e,i){if(!i)return this;if(i.ranges&&_.isArray(i.ranges))return _.forEach(i.ranges,function(e){var n=_.extend({},i,e);delete n.ranges,this[t](n)},this),this;var a,o=i._natives={},c="";return _.extend(o,e),i._natives.type=i._natives.plugin=t,i._running=!1,o.start=o.start||o["in"],o.end=o.end||o.out,i.once&&(o.end=p(o.end,function(){this.removeTrackEvent(i._id)})),o._teardown=p(function(){var t=d.call(arguments),e=this.data.running[o.type];t.unshift(null),t[1]._running&&e.splice(e.indexOf(i),1)&&o.end.apply(this,t),t[1]._running=!1,this.emit("trackend",_.extend({},i,{plugin:o.type,type:"trackend",track:_.getTrackEvent(this,i.id||i._id)}))},o._teardown),o._teardown=p(o._teardown,function(){this.emit("trackteardown",_.extend({},i,{plugin:t,type:"trackteardown",track:_.getTrackEvent(this,i.id||i._id)}))}),i.compose=i.compose||[],"string"==typeof i.compose&&(i.compose=i.compose.split(" ")),i.effect=i.effect||[],"string"==typeof i.effect&&(i.effect=i.effect.split(" ")),i.compose=i.compose.concat(i.effect),i.compose.forEach(function(t){c=_.compositions[t]||{},u.forEach(function(t){o[t]=p(o[t],c[t])})}),i._natives.manifest=r,"start"in i||(i.start=i["in"]||0),i.end||0===i.end||(i.end=i.out||Number.MAX_VALUE),l.call(i,"toString")||(i.toString=function(){var e=["start: "+i.start,"end: "+i.end,"id: "+(i.id||i._id)];return null!=i.target&&e.push("target: "+i.target),t+" ( "+e.join(", ")+" )"}),i.target||(a="options"in r&&r.options,i.target=a&&"target"in a&&a.target),!i._id&&i._natives&&(i._id=_.guid(i._natives.type)),i instanceof n?(i._natives&&(i._id=i.id||i._id||_.guid(i._natives.type),i._natives._setup&&(i._natives._setup.call(this,i),this.emit("tracksetup",_.extend({},i,{plugin:i._natives.type,type:"tracksetup",track:i})))),this.data.trackEvents.add(i),n.start(this,i),this.timeUpdate(this,null,!0),i._id&&_.addTrackEvent.ref(this,i)):_.addTrackEvent(this,i),_.forEach(e,function(t,e){-1===s.indexOf(e)&&this.on(e,t)},this),this};_.p[t]=c[t]=function(r,o){{var s,u,c,d,p;arguments.length}if(r&&!o)o=r,r=null;else{if(s=this.getTrackEvent(r))return p=o,d=a(s,p),s._natives._update?(this.data.trackEvents.remove(s),l.call(o,"start")&&(s.start=o.start),l.call(o,"end")&&(s.end=o.end),n.end(this,s),i&&e.call(this,s),s._natives._update.call(this,s,o),this.data.trackEvents.add(s),n.start(this,s),"cue"!==s._natives.type&&this.emit("trackchange",{id:s.id,type:"trackchange",previousValue:d,currentValue:p,track:s}),this):(_.extend(s,o),this.data.trackEvents.remove(r),s._natives._teardown&&s._natives._teardown.call(this,s),_.removeTrackEvent.ref(this,r),i?f.call(this,e.call(this,s),s):(s._id=s.id||s._id||_.guid(s._natives.type),s._natives&&s._natives._setup&&(s._natives._setup.call(this,s),this.emit("tracksetup",_.extend({},s,{plugin:s._natives.type,type:"tracksetup",track:s}))),this.data.trackEvents.add(s),n.start(this,s),this.timeUpdate(this,null,!0),_.addTrackEvent.ref(this,s)),this.emit("trackchange",{id:s.id,type:"trackchange",previousValue:d,currentValue:s,track:s}),this);o.id=r}return this.data.running[t]=this.data.running[t]||[],u=this.options.defaults&&this.options.defaults[t]||{},c=_.extend({},u,o),f.call(this,i?e.call(this,c):e,c),this},r&&_.extend(e,{manifest:r});var h={fn:c[t],definition:e,base:e,parents:[],name:t};return _.registry.push(_.extend(c,h,{type:t})),_.registryByName[t]=h,c},_.plugin.errors=[],_.plugin.debug="@VERSION"===_.version,_.removePlugin=function(t,e){if(!e){if(e=t,t=_.p,_.protect.natives.indexOf(e.toLowerCase())>=0)return void _.error("'"+e+"' is a protected function name");var n,r=_.registry.length;for(n=0;r>n;n++)if(_.registry[n].name===e)return _.registry.splice(n,1),delete _.registryByName[e],delete _.manifest[e],void delete t[e]}var i,a,o=t.data.trackEvents.byStart,s=t.data.trackEvents.byEnd,u=t.data.trackEvents.animating;for(i=0,a=o.length;a>i;i++)o[i]&&o[i]._natives&&o[i]._natives.type===e&&(o[i]._natives._teardown&&o[i]._natives._teardown.call(t,o[i]),o.splice(i,1),i--,a--,t.data.trackEvents.startIndex<=i&&(t.data.trackEvents.startIndex--,t.data.trackEvents.endIndex--)),s[i]&&s[i]._natives&&s[i]._natives.type===e&&s.splice(i,1);for(i=0,a=u.length;a>i;i++)u[i]&&u[i]._natives&&u[i]._natives.type===e&&(u.splice(i,1),i--,a--)},_.compositions={},_.compose=function(t,e,n){_.manifest[t]=n=n||e.manifest||{},_.compositions[t]=e},_.plugin.effect=_.effect=_.compose;var T=/^(?:\.|#|\[)/;_.dom={debug:!1,find:function(t,n){var r=null;if(n=n||e,t){if(!T.test(t)&&(r=e.getElementById(t),null!==r))return r;try{r=n.querySelector(t)}catch(i){if(_.dom.debug)throw new Error(i)}}return r}};var w=/\?/,x={ajax:null,url:"",data:"",dataType:"",success:_.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};_.xhr=function(t){var e;return t.dataType=t.dataType&&t.dataType.toLowerCase()||null,!t.dataType||"jsonp"!==t.dataType&&"script"!==t.dataType?(e=_.extend({},x,t),e.ajax=new XMLHttpRequest,e.ajax?("GET"===e.type&&e.data&&(e.url+=(w.test(e.url)?"&":"?")+e.data,e.data=null),e.ajax.open(e.type,e.url,e.async),"POST"===e.type&&e.ajax.setRequestHeader("Content-Type",e.contentType),e.ajax.send(e.data||null),_.xhr.httpData(e)):void 0):void _.xhr.getJSONP(t.url,t.success,"script"===t.dataType)},_.xhr.httpData=function(t){var e,n,r=null,i=null;return t.ajax.onreadystatechange=function(){if(4===t.ajax.readyState){try{r=JSON.parse(t.ajax.responseText)}catch(a){}if(e={xml:t.ajax.responseXML,text:t.ajax.responseText,json:r},!e.xml||!e.xml.documentElement){e.xml=null;try{n=new DOMParser,i=n.parseFromString(t.ajax.responseText,"text/xml"),i.getElementsByTagName("parsererror").length||(e.xml=i)}catch(a){}}t.dataType&&(e=e[t.dataType]),t.success.call(t.ajax,e)}},e},_.xhr.getJSONP=function(t,n,r){var i,a,o,s=e.head||e.getElementsByTagName("head")[0]||e.documentElement,u=e.createElement("script"),c=!1,d=[],l=/(=)\?(?=&|$)|\?\?/;r||(o=t.match(/(callback=[^&]*)/),null!==o&&o.length?(i=o[1].split("=")[1],"?"===i&&(i="jsonp"),a=_.guid(i),t=t.replace(/(callback=[^&]*)/,"callback="+a)):(a=_.guid("jsonp"),l.test(t)&&(t=t.replace(l,"$1"+a)),d=t.split(/\?(.+)?/),t=d[0]+"?",d[1]&&(t+=d[1]+"&"),t+="callback="+a),window[a]=function(t){n&&n(t),c=!0}),u.addEventListener("load",function(){r&&n&&n(),c&&delete window[a],s.removeChild(u)},!1),u.addEventListener("error",function(t){n&&n({error:t}),r||delete window[a],s.removeChild(u)},!1),u.src=t,s.insertBefore(u,s.firstChild)},_.getJSONP=_.xhr.getJSONP,_.getScript=_.xhr.getScript=function(t,e){return _.xhr.getJSONP(t,e,!0)},_.util={toSeconds:function(t,e){var n,r,i,a,o,s,u=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,c="Invalid time format";return"number"==typeof t?t:("string"!=typeof t||u.test(t)||_.error(c),n=t.split(":"),r=n.length-1,i=n[r],i.indexOf(";")>-1&&(o=i.split(";"),s=0,e&&"number"==typeof e&&(s=parseFloat(o[1],10)/e),n[r]=parseInt(o[0],10)+s),a=n[0],{1:parseFloat(a,10),2:60*parseInt(a,10)+parseFloat(n[1],10),3:3600*parseInt(a,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},_.p.cue=_.p.exec,_.protect={natives:E(_.p).map(function(t){return t.toLowerCase()})},_.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(t,e){var n=_.p[e];_.p[e]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+e+"', "+(null==t?"do not use.":"use '"+t+"' instead.")),_.p[e]=n),_.p[t].apply(this,[].slice.call(arguments))}}),t.Popcorn=_}else{t.Popcorn={isSupported:!1};for(var k="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);k.length;)t.Popcorn[k.shift()]=function(){}}}(window,window.document),function(t){var e=function(e,n){var r,i=0,a=0;t.forEach(n.classes,function(t,e){for(r=[],"parent"===t?r[0]=document.querySelectorAll("#"+n.target)[0].parentNode:r=document.querySelectorAll("#"+n.target+" "+t),i=0,a=r.length;a>i;i++)r[i].classList.toggle(e)})};t.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(t){t.classes={},t.applyclass=t.applyclass||"";for(var e=t.applyclass.replace(/\s/g,"").split(","),n=[],r=0,i=e.length;i>r;r++)n=e[r].split(":"),n[0]&&(t.classes[n[0]]=n[1]||"")},start:e,end:e})}(Popcorn),function(t,e){function n(t){var e="string"==typeof t?t:[t.language,t.region].join("-"),n=e.split("-");return{iso6391:e,language:n[0]||"",region:n[1]||""}}var r=t.navigator,i=n(r.userLanguage||r.language);e.locale={get:function(){return i},set:function(t){return i=n(t),e.locale.broadcast(),i},broadcast:function(t){var n,r=e.instances,i=r.length,a=0;for(t=t||"locale:changed";i>a;a++)n=r[a],t in n.data.events&&n.trigger(t)}}}(this,this.Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){var e=function(e,n){return e=e||t.nop,n=n||t.nop,function(){e.apply(this,arguments),n.apply(this,arguments)}};t.player=function(n,r){if(!t[n]){r=r||{};var i=function(n,i,a){a=a||{};var o,s,u=new Date/1e3,c=u,d=0,l=0,p=1,f=!1,h={},v="string"==typeof n?t.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var g in v)g in y||("object"==typeof v[g]?y[g]=v[g]:"function"==typeof v[g]?y[g]=function(t){return"length"in v[t]&&!v[t].call?v[t]:function(){return v[t].apply(v,arguments)}}(g):t.player.defineProperty(y,g,{get:function(t){return function(){return v[t]}}(g),set:t.nop,configurable:!0}));var m=function(){u=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(u-c),y.dispatchEvent("timeupdate"),o=setTimeout(m,10)),c=u
};return y.play=function(){this.paused=!1,y.readyState>=4&&(c=new Date/1e3,y.dispatchEvent("play"),m())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},t.player.defineProperty(y,"currentTime",{get:function(){return d},set:function(t){return d=+t,y.dispatchEvent("timeupdate"),d},configurable:!0}),t.player.defineProperty(y,"volume",{get:function(){return p},set:function(t){return p=+t,y.dispatchEvent("volumechange"),p},configurable:!0}),t.player.defineProperty(y,"muted",{get:function(){return f},set:function(t){return f=+t,y.dispatchEvent("volumechange"),f},configurable:!0}),t.player.defineProperty(y,"readyState",{get:function(){return l},set:function(t){return l=t},configurable:!0}),y.addEventListener=function(t,e){return h[t]||(h[t]=[]),h[t].push(e),e},y.removeEventListener=function(t,e){var n,r=h[t];if(r){for(n=h[t].length-1;n>=0;n--)e===r[n]&&r.splice(n,1);return e}},y.dispatchEvent=function(e){var n,r,i=this,a=e.type;if(a||(a=e,r=t.events.getInterface(a),r&&(n=document.createEvent(r),n.initEvent(a,!0,!0,window,1))),h[a])for(var o=h[a].length-1;o>=0;o--)h[a][o].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,a&&a.events&&t.forEach(a.events,function(t,e){y.addEventListener(e,t,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,a):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),s=new t.p.init(y,a),r._teardown&&(s.destroy=e(s.destroy,function(){r._teardown.call(y,a)})),s};i.canPlayType=r._canPlayType=r._canPlayType||t.nop,t[n]=t.player.registry[n]=i}},t.player.registry={},t.player.defineProperty=Object.defineProperty||function(e,n,r){e.__defineGetter__(n,r.get||t.nop),e.__defineSetter__(n,r.set||t.nop)},t.player.playerQueue=function(){var t=[],e=!1;return{next:function(){e=!1,t.shift(),t[0]&&t[0]()},add:function(n){t.push(function(){e=!0,n&&n()}),!e&&t[0]()}}},t.smart=function(e,n,r){var i,a,o,s,u,c,d,l="string"==typeof e?t.dom.find(e):e,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void t.error("Specified target `"+e+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,d=n.length;d>i;i++){for(a=n[i],o=0;o<p.length;o++)if(u=t[p[o]],u&&"probably"===u._canPlaySrc(a))return s=u(l),c=t(s,r),setTimeout(function(){s.src=a},0),c;for(var f in t.player.registry)if(t.player.registry.hasOwnProperty(f)&&t.player.registry[f].canPlayType(l.nodeName,a))return t[f](l,a,r)}var h,v,y=t.guid("popcorn-video-"),g=document.createElement("div");if(g.style.width="100%",g.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var t=document.createElement("div");t.innerHTML=n[0],v.src=t.firstChild.nodeValue},0),t("#"+y,r);for(l.appendChild(g),h='<video id="'+y+'" preload=auto autobuffer>',i=0,d=n.length;d>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",g.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),t("#"+y,r)}}(Popcorn),function(t){document.addEventListener("DOMContentLoaded",function(){var e="data-timeline-sources",n=document.querySelectorAll("["+e+"]");t.forEach(n,function(r,i){var a,o,s,u=n[i];u.id||(u.id=t.guid("__popcorn")),u.nodeType&&1===u.nodeType&&(s=t("#"+u.id),a=(u.getAttribute(e)||"").split(","),a[0]&&t.forEach(a,function(t){o=t.split("!"),1===o.length&&(o=t.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split("."),o[0]="parse"+o[1].toUpperCase(),o[1]=t),a[0]&&s[o[0]]&&s[o[0]](o[1])}),s.autoplay()&&s.play())})},!1)}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){t.parser("parseJSON","JSON",function(e){var n={title:"",remote:"",data:[]},r=e;return t.forEach(r.data,function(t){n.data.push(t)}),n})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){t.parser("parseSBV",function(t){var e,n={title:"",remote:"",data:[]},r=[],i=0,a=0,o=function(t){var e,n=t.split(":"),r=n.length-1;try{e=60*parseInt(n[r-1],10)+parseFloat(n[r],10),2===r&&(e+=3600*parseInt(n[0],10))}catch(i){throw"Bad cue"}return e},s=function(t,e){var n={};return n[t]=e,n};for(e=t.text.split(/(?:\r\n|\r|\n)/gm),a=e.length;a>i;){var u={},c=[],d=e[i++].split(",");try{for(u.start=o(d[0]),u.end=o(d[1]);a>i&&e[i];)c.push(e[i++]);u.text=c.join("<br />"),r.push(s("subtitle",u))}catch(l){for(;a>i&&e[i];)i++}for(;a>i&&!e[i];)i++}return n.data=r,n})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){function e(t,e){var n={};return n[t]=e,n}function n(t){var e=t.split(":");try{var n=e[2].split(",");return 1===n.length&&(n=e[2].split(".")),3600*parseFloat(e[0],10)+60*parseFloat(e[1],10)+parseFloat(n[0],10)+parseFloat(n[1],10)/1e3}catch(r){return 0}}function r(t,e){for(var n=e;!t[n];)n++;return n}function i(t){for(var e=t.length-1;e>=0&&!t[e];)e--;return e}t.parser("parseSRT",function(t,a){var o,s,u,c,d,l={title:"",remote:"",data:[]},p=[],f=0,h=0;for(o=t.text.split(/(?:\r\n|\r|\n)/gm),c=i(o)+1,f=0;c>f;f++){for(d={},u=[],f=r(o,f),d.id=parseInt(o[f++],10),s=o[f++].split(/[\t ]*-->[\t ]*/),d.start=n(s[0]),h=s[1].indexOf(" "),-1!==h&&(s[1]=s[1].substr(0,h)),d.end=n(s[1]);c>f&&o[f];)u.push(o[f++]);d.text=u.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),d.text=d.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),d.text=d.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),d.text=d.text.replace(/\\N/gi,"<br />"),a&&a.target&&(d.target=a.target),p.push(e("subtitle",d))}return l.data=p,l})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){function e(t,e){var i,a=t.substr(10).split(","),o=/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,s=/\\N/gi;if(i={start:n(a[e.start]),end:n(a[e.end])},-1===i.start||-1===i.end)throw"Invalid time";return i.text=r(a,e.text).replace(o,"").replace(s,"<br />"),i}function n(t){var e=t.split(":");return 10!==t.length||e.length<3?-1:3600*parseInt(e[0],10)+60*parseInt(e[1],10)+parseFloat(e[2],10)}function r(t,e){for(var n=t.length,r=[],i=e;n>i;i++)r.push(t[i]);return r.join(",")}function i(t,e){var n={};return n[t]=e,n}function a(t){var e,n,r=t.substr(8).split(", "),i={};for(n=0,e=r.length;e>n;n++)"Start"===r[n]?i.start=n:"End"===r[n]?i.end=n:"Text"===r[n]&&(i.text=n);return i}t.parser("parseSSA",function(t){var n,r,o,s={title:"",remote:"",data:[]},u=/(?:\r\n|\r|\n)/gm,c=[],d=0;for(n=t.text.split(u),o=n.length;o>d&&"[Events]"!==n[d];)d++;for(r=a(n[++d]);++d<o&&n[d]&&"["!==n[d][0];)try{c.push(i("subtitle",e(n[d],r)))}catch(l){}return s.data=c,s})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){function e(t,a,o){for(var s,u=t.firstChild,c=n(t,o),d=[];u;)1===u.nodeType&&("p"===u.nodeName?d.push(r(u,a,c)):"div"===u.nodeName&&(s=i(u.getAttribute("begin")),0>s&&(s=a),d.push.apply(d,e(u,s,c)))),u=u.nextSibling;return d}function n(t,e){var n=t.getAttribute("region");return null!==n?n:e||""}function r(t,e,r){var a={};return a.text=(t.textContent||t.text).replace(s,"").replace(u,"<br />"),a.id=t.getAttribute("xml:id")||t.getAttribute("id"),a.start=i(t.getAttribute("begin"),e),a.end=i(t.getAttribute("end"),e),a.target=n(t,r),a.end<0&&(a.end=i(t.getAttribute("duration"),0),a.end>=0?a.end+=a.start:a.end=Number.MAX_VALUE),{subtitle:a}}function i(e,n){var r;if(!e)return-1;try{return t.util.toSeconds(e)}catch(i){return r=a(e),parseFloat(e.substring(0,r))*o(e.substring(r))+(n||0)}}function a(t){for(var e=t.length-1;e>=0&&t[e]<="9"&&t[e]>="0";)e--;return e}function o(t){return{h:3600,m:60,s:1,ms:.001}[t]||-1}var s=/^[\s]+|[\s]+$/gm,u=/(?:\r\n|\r|\n)/gm;t.parser("parseTTML",function(t){var n,r={title:"",remote:"",data:[]};if(!t.xml||!t.xml.documentElement)return r;if(n=t.xml.documentElement.firstChild,!n)return r;for(;"body"!==n.nodeName;)n=n.nextSibling;return n&&(r.data=e(n,0)),r})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){t.parser("parseTTXT",function(t){for(var e={title:"",remote:"",data:[]},n=function(t){var e=t.split(":"),n=0;try{return 60*parseFloat(e[0],10)*60+60*parseFloat(e[1],10)+parseFloat(e[2],10)}catch(r){n=0}return n},r=function(t,e){var n={};return n[t]=e,n},i=t.xml.lastChild.lastChild,a=Number.MAX_VALUE,o=[];i;){if(1===i.nodeType&&"TextSample"===i.nodeName){var s={};s.start=n(i.getAttribute("sampleTime")),s.text=i.getAttribute("text"),s.text&&(s.end=a-.001,o.push(r("subtitle",s))),a=s.start}i=i.previousSibling}return e.data=o.reverse(),e})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){function e(t){var e,n=t.split(":"),r=t.length;if(12!==r&&9!==r)throw"Bad cue";r=n.length-1;try{e=60*parseInt(n[r-1],10)+parseFloat(n[r],10),2===r&&(e+=3600*parseInt(n[0],10))}catch(i){throw"Bad cue"}return e}function n(t,e){var n={};return n[t]=e,n}function r(t){var n,r={},i=/-->/,a=/[\t ]+/;if(!t||-1===t.indexOf("-->"))throw"Bad cue";if(n=t.replace(i," --> ").split(a),n.length<2)throw"Bad cue";return r.id=t,r.start=e(n[0]),r.end=e(n[2]),r}function i(t,e,n){for(;e>n&&!t[n];)n++;return n}function a(t,e,n){for(;e>n&&t[n];)n++;return n}t.parser("parseVTT",function(t){var e,o,s,u={title:"",remote:"",data:[]},c=[],d=0,l=0,p=/(?:\r\n|\r|\n)/gm;if(e=t.text.split(p),l=e.length,0===l||"WEBVTT"!==e[0])return u;for(d++;l>d;){o=[];try{for(d=i(e,l,d),s=r(e[d++]);l>d&&e[d];)o.push(e[d++]);s.text=o.join("<br />"),c.push(n("subtitle",s))}catch(f){d=a(e,l,d)}}return u.data=c,u})}(Popcorn),function(t){{var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString}t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return void t.error("'"+e+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a,o){if(!e)return this;"function"==typeof a||o||(o=a,a=null);var s=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,u,c=i(t,o),d=0;if(e=c.data||[],n=e.length,u=null,n){for(;n>d;d++){u=e[d];for(var l in u)r.call(u,l)&&s[l]&&s[l](u[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){t.parser("parseXML","XML",function(e){for(var n={title:"",remote:"",data:[]},r={},i=function(t){var e=t.split(":");return 1===e.length?parseFloat(e[0],10):2===e.length?parseFloat(e[0],10)+parseFloat(e[1]/12,10):3===e.length?parseInt(60*e[0],10)+parseFloat(e[1],10)+parseFloat(e[2]/12,10):4===e.length?parseInt(3600*e[0],10)+parseInt(60*e[1],10)+parseFloat(e[2],10)+parseFloat(e[3]/12,10):void 0},a=function(t){for(var e={},n=0,a=t.length;a>n;n++){var o=t.item(n).nodeName,s=t.item(n).nodeValue,u=r[s];if("in"===o)e.start=i(s);else if("out"===o)e.end=i(s);else if("resourceid"===o)for(var c in u)u.hasOwnProperty(c)&&(e[c]||"id"===c||(e[c]=u[c]));else e[o]=s}return e},o=function(t,e){var n={};return n[t]=e,n},s=function(e,i,u){var c={};t.extend(c,i,a(e.attributes),{text:e.textContent||e.text});var d=e.childNodes;if(d.length<1||1===d.length&&3===d[0].nodeType)u?r[c.id]=c:n.data.push(o(e.nodeName,c));else for(var l=0;l<d.length;l++)1===d[l].nodeType&&s(d[l],c,u)},u=e.documentElement.childNodes,c=0,d=u.length;d>c;c++)1===u[c].nodeType&&("manifest"===u[c].nodeName?s(u[c],{},!0):s(u[c],{},!1));return n})}(Popcorn),function(t){t.plugin("code",function(e){var n=!1,r=this,i=function(){var t=function(t){return function(e,i){var a=function(){n&&e.call(r,i),n&&t(a)};a()}};return t(window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:function(t){window.setTimeout(t,16)})}();return e.onStart&&"function"==typeof e.onStart||(e.onStart=t.nop),e.onEnd&&"function"!=typeof e.onEnd&&(e.onEnd=void 0),e.onFrame&&"function"!=typeof e.onFrame&&(e.onFrame=void 0),{start:function(t,e){e.onStart.call(r,e),e.onFrame&&(n=!0,i(e.onFrame,e))},end:function(t,e){e.onFrame&&(n=!1),e.onEnd&&e.onEnd.call(r,e)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",optional:!0},onEnd:{elem:"input",type:"function",label:"onEnd"}}})}(Popcorn),function(t){t.plugin("footnote",{manifest:{about:{name:"Popcorn Footnote Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text"},target:"footnote-container"}},_setup:function(e){var n=t.dom.find(e.target);e._container=document.createElement("div"),e._container.style.display="none",e._container.innerHTML=e.text,n.appendChild(e._container)},start:function(t,e){e._container.style.display="inline"},end:function(t,e){e._container.style.display="none"},_teardown:function(e){var n=t.dom.find(e.target);n&&n.removeChild(e._container)}})}(Popcorn),document.addEventListener("click",function(t){var e=t.target;("A"===e.nodeName||e.parentNode&&"A"===e.parentNode.nodeName)&&Popcorn.instances.forEach(function(t){t.options.pauseOnLinkClicked&&t.pause()})},!1),function(t){var e=0,n=function(e,n){var r=e.container=document.createElement("div"),i=r.style,a=e.media,o=function(){var t=e.position();i.fontSize="18px",i.width=a.offsetWidth+"px",i.top=t.top+a.offsetHeight-r.offsetHeight-40+"px",i.left=t.left+"px",setTimeout(o,10)};return r.id=n||t.guid(),i.position="absolute",i.color="white",i.textShadow="black 2px 2px 6px",i.fontWeight="bold",i.textAlign="center",o(),e.media.parentNode.appendChild(r),r};t.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(t){var r=document.createElement("div");r.id="subtitle-"+e++,r.style.display="none",!this.container&&(!t.target||"subtitle-container"===t.target)&&n(this),t.container=t.target&&"subtitle-container"!==t.target?document.getElementById(t.target)||n(this,t.target):this.container,document.getElementById(t.container.id)&&document.getElementById(t.container.id).appendChild(r),t.innerContainer=r,t.showSubtitle=function(){t.innerContainer.innerHTML=t.text||""}},start:function(t,e){e.innerContainer.style.display="inline",e.showSubtitle(e,e.text)},end:function(t,e){e.innerContainer.style.display="none",e.innerContainer.innerHTML=""},_teardown:function(t){t.container.removeChild(t.innerContainer)}})}(Popcorn),function(t){function e(t){return String(t).replace(/&(?!\w+;)|[<>"']/g,function(t){return i[t]||t})}function n(t){return t.replace(/\r?\n/gm,"<br>")}function r(t,e){var n=t.container=document.createElement("div"),r=n.style,i=t.media,a=function(){var e=t.position();r.fontSize="18px",r.width=i.offsetWidth+"px",r.top=e.top+i.offsetHeight-n.offsetHeight-40+"px",r.left=e.left+"px",setTimeout(a,10)};return n.id=e||"",r.position="absolute",r.color="white",r.textShadow="black 2px 2px 6px",r.fontWeight="bold",r.textAlign="center",a(),t.media.parentNode.appendChild(n),n}var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};t.plugin("text",{manifest:{about:{name:"Popcorn Text Plugin",version:"0.1",author:"@humphd"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},escape:{elem:"input",type:"checkbox",label:"Escape"},multiline:{elem:"input",type:"checkbox",label:"Multiline"}}},_setup:function(i){var a,o,s=i._container=document.createElement("div");s.style.display="none",i.target?(a=t.dom.find(i.target),a?["VIDEO","AUDIO"].indexOf(a.nodeName)>-1&&(a=r(this,i.target+"-overlay")):a=r(this,i.target)):a=this.container?this.container:r(this),i._target=a,o=i.escape?e(i.text):i.text,o=i.multiline?n(o):o,s.innerHTML=o||"",a.appendChild(s),i.toString=function(){return i.text||i._natives.manifest.options.text["default"]}},start:function(t,e){e._container.style.display="inline"},end:function(t,e){e._container.style.display="none"},_teardown:function(t){var e=t._target;e&&e.removeChild(t._container)}})}(Popcorn),function(t){var e=1;t.plugin("timeline",function(t){var n,r=document.getElementById(t.target),i=document.createElement("div"),a=!0;return r&&!r.firstChild?(r.appendChild(n=document.createElement("div")),n.style.width="inherit",n.style.height="inherit",n.style.overflow="auto"):n=r.firstChild,i.style.display="none",i.id="timelineDiv"+e,t.direction=t.direction||"up","down"===t.direction.toLowerCase()&&(a=!1),r&&n&&(a?n.insertBefore(i,n.firstChild):n.appendChild(i)),e++,i.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+t.title+"</span><br /><span id='mid' style='font-size: 16px;'>"+t.text+"</span><br />"+t.innerHTML,{start:function(t,e){i.style.display="block","down"===e.direction&&(n.scrollTop=n.scrollHeight)},end:function(){i.style.display="none"},_teardown:function(){n&&i&&n.removeChild(i)&&!n.firstChild&&r.removeChild(n)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",title:{elem:"input",type:"text",label:"Title"},text:{elem:"input",type:"text",label:"Text"},innerHTML:{elem:"input",type:"text",label:"HTML Code",optional:!0},direction:{elem:"select",options:["DOWN","UP"],label:"Direction",optional:!0}}})}(Popcorn),function(t,e){function n(t){for(var e=n.options,r=e.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[e.key[a]]=r[a]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(t,n,r){n&&(i[e.q.name][n]=r)}),i}function r(){var r,a={};return Object.prototype.__defineGetter__||(a=e.createElement("div")),a._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||t===!0},parseUri:n},a.addEventListener=function(t,n,r){e.addEventListener(this._eventNamespace+t,n,r)},a.removeEventListener=function(t,n,r){e.removeEventListener(this._eventNamespace+t,n,r)},a.dispatchEvent=function(t){var n=e.createEvent("CustomEvent"),r={type:t,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+t,!1,!1,r),e.dispatchEvent(n)},a.load=t.nop,a.canPlayType=function(){return""},a.getBoundingClientRect=function(){return r.getBoundingClientRect()},a.NETWORK_EMPTY=0,a.NETWORK_IDLE=1,a.NETWORK_LOADING=2,a.NETWORK_NO_SOURCE=3,a.HAVE_NOTHING=0,a.HAVE_METADATA=1,a.HAVE_CURRENT_DATA=2,a.HAVE_FUTURE_DATA=3,a.HAVE_ENOUGH_DATA=4,Object.defineProperties(a,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(t){r=t},configurable:!0},preload:{get:function(){return"auto"},set:t.nop,configurable:!0},controls:{get:function(){return!0},set:t.nop,configurable:!0},poster:{get:function(){return""},set:t.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),a}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:t.nop,end:t.nop};window.MediaError=window.MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),t._MediaElementProto=r}(Popcorn,window.document),function(t,e){function n(t){for(var e=n.options,r=e.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[e.key[a]]=r[a]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(t,n,r){n&&(i[e.q.name][n]=r)}),i}function r(){var r,a={};return Object.prototype.__defineGetter__||(a=e.createElement("div")),a._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||t===!0},parseUri:n},a.addEventListener=function(t,n,r){e.addEventListener(this._eventNamespace+t,n,r)},a.removeEventListener=function(t,n,r){e.removeEventListener(this._eventNamespace+t,n,r)},a.dispatchEvent=function(t){var n=e.createEvent("CustomEvent"),r={type:t,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+t,!1,!1,r),e.dispatchEvent(n)},a.load=t.nop,a.canPlayType=function(){return""},a.getBoundingClientRect=function(){return r.getBoundingClientRect()},a.NETWORK_EMPTY=0,a.NETWORK_IDLE=1,a.NETWORK_LOADING=2,a.NETWORK_NO_SOURCE=3,a.HAVE_NOTHING=0,a.HAVE_METADATA=1,a.HAVE_CURRENT_DATA=2,a.HAVE_FUTURE_DATA=3,a.HAVE_ENOUGH_DATA=4,Object.defineProperties(a,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(t){r=t},configurable:!0},preload:{get:function(){return"auto"},set:t.nop,configurable:!0},controls:{get:function(){return!0},set:t.nop,configurable:!0},poster:{get:function(){return""},set:t.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),a}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:t.nop,end:t.nop};window.MediaError=window.MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),t._MediaElementProto=r}(Popcorn,window.document),function(t,e){function n(){return"maybe"}function r(t,r){var i="string"==typeof t?e.querySelector(t):t,a=e.createElement(r);return i.appendChild(a),a._canPlaySrc=n,a}t.HTMLVideoElement=function(t){return r(t,"video")},t.HTMLVideoElement._canPlaySrc=n,t.HTMLAudioElement=function(t){return r(t,"audio")},t.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(t,e){function n(t){for(var e=n.options,r=e.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[e.key[a]]=r[a]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(t,n,r){n&&(i[e.q.name][n]=r)}),i}function r(){var r,a={};return Object.prototype.__defineGetter__||(a=e.createElement("div")),a._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||t===!0},parseUri:n},a.addEventListener=function(t,n,r){e.addEventListener(this._eventNamespace+t,n,r)},a.removeEventListener=function(t,n,r){e.removeEventListener(this._eventNamespace+t,n,r)},a.dispatchEvent=function(t){var n=e.createEvent("CustomEvent"),r={type:t,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+t,!1,!1,r),e.dispatchEvent(n)},a.load=t.nop,a.canPlayType=function(){return""},a.getBoundingClientRect=function(){return r.getBoundingClientRect()},a.NETWORK_EMPTY=0,a.NETWORK_IDLE=1,a.NETWORK_LOADING=2,a.NETWORK_NO_SOURCE=3,a.HAVE_NOTHING=0,a.HAVE_METADATA=1,a.HAVE_CURRENT_DATA=2,a.HAVE_FUTURE_DATA=3,a.HAVE_ENOUGH_DATA=4,Object.defineProperties(a,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(t){r=t},configurable:!0},preload:{get:function(){return"auto"},set:t.nop,configurable:!0},controls:{get:function(){return!0},set:t.nop,configurable:!0},poster:{get:function(){return""},set:t.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),a}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:t.nop,end:t.nop};window.MediaError=window.MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),t._MediaElementProto=r}(Popcorn,window.document),function(t,e){function n(e){this.startTime=0,this.currentTime=e.currentTime||0,this.duration=e.duration||0/0,this.playInterval=null,this.paused=!0,this.defaultPlaybackRate=1,this.playbackRate=1,this.ended=e.endedCallback||t.nop}function r(t){t.currentTime+=(Date.now()-t.startTime)/(1e3/t.playbackRate),t.startTime=Date.now(),t.currentTime>=t.duration&&(t.pause(t.duration),t.ended()),t.currentTime<0&&t.pause(0)}function i(r){function i(t){P.push(t)}function a(){var t;for(A=!0,N.networkState=k.NETWORK_IDLE,N.readyState=k.HAVE_METADATA,k.dispatchEvent("loadedmetadata"),k.dispatchEvent("loadeddata"),N.readyState=k.HAVE_FUTURE_DATA,k.dispatchEvent("canplay"),N.readyState=k.HAVE_ENOUGH_DATA,k.dispatchEvent("canplaythrough");P.length;)(t=P.shift())();N.autoplay&&k.play()}function u(){return w?w.duration:0/0}function c(){A&&w&&(w.pause(),w=null,S.removeChild(O),O=e.createElement("div"))}function d(t){if(!k._canPlaySrc(t))return N.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void k.dispatchEvent("error");
N.src=t,A&&c(),O.width=N.width,O.height=N.height,S.appendChild(O);var e=s.exec(t),r=+e[1],i=+e[2];w=new n({currentTime:r,duration:i,endedCallback:m}),k.dispatchEvent("loadstart"),k.dispatchEvent("progress"),k.dispatchEvent("durationchange"),a()}function l(){return A?w.currentTime:0}function p(t){if(t!==l()){if(!A)return void i(function(){p(t)});h(),w.seekTo(t),v()}}function f(){k.dispatchEvent("timeupdate")}function h(){N.seeking=!0,k.dispatchEvent("seeking")}function v(){N.ended=!1,N.seeking=!1,k.dispatchEvent("timeupdate"),k.dispatchEvent("seeked"),k.dispatchEvent("canplay"),k.dispatchEvent("canplaythrough")}function y(){1===N.paused?(N.paused=!1,k.dispatchEvent("play"),k.dispatchEvent("playing")):(N.ended&&(p(0),N.ended=!1),N.paused&&(N.paused=!1,N.loop||k.dispatchEvent("play"),k.dispatchEvent("playing"))),x=setInterval(f,k._util.TIMEUPDATE_MS)}function g(){N.paused=!0,clearInterval(x),k.dispatchEvent("pause")}function m(){N.loop?(p(0),k.play()):(N.ended=!0,g(),k.dispatchEvent("timeupdate"),k.dispatchEvent("ended"))}function E(t){N.volume=t,k.dispatchEvent("volumechange")}function b(){return N.volume}function _(t){N.muted=t,k.dispatchEvent("volumechange")}function T(){return N.muted}var w,x,k=new t._MediaElementProto,S="string"==typeof r?e.querySelector(r):r,O=e.createElement("div"),A=!1,N={src:o,networkState:k.NETWORK_EMPTY,readyState:k.HAVE_NOTHING,autoplay:o,preload:o,controls:o,loop:!1,poster:o,volume:1,muted:!1,width:0|S.width?S.width:k._util.MIN_WIDTH,height:0|S.height?S.height:k._util.MIN_HEIGHT,seeking:!1,ended:!1,paused:1,error:null},P=[];return k._eventNamespace=t.guid("HTMLNullVideoElement::"),k.parentNode=S,k._util.type="NullVideo",k.play=function(){return A?(w.play(),void(N.paused&&y())):void i(function(){k.play()})},k.pause=function(){return A?(w.pause(),void(N.paused||g())):void i(function(){k.pause()})},Object.defineProperties(k,{src:{get:function(){return N.src},set:function(t){t&&t!==N.src&&d(t)}},autoplay:{get:function(){return N.autoplay},set:function(t){N.autoplay=k._util.isAttributeSet(t)}},loop:{get:function(){return N.loop},set:function(t){N.loop=k._util.isAttributeSet(t)}},width:{get:function(){return O.width},set:function(t){O.width=t,N.width=O.width}},height:{get:function(){return O.height},set:function(t){O.height=t,N.height=O.height}},currentTime:{get:function(){return l()},set:function(t){p(t)}},duration:{get:function(){return u()}},ended:{get:function(){return N.ended}},paused:{get:function(){return N.paused}},seeking:{get:function(){return N.seeking}},readyState:{get:function(){return N.readyState}},networkState:{get:function(){return N.networkState}},volume:{get:function(){return b()},set:function(t){if(0>t||t>1)throw"Volume value must be between 0.0 and 1.0";E(t)}},muted:{get:function(){return T()},set:function(t){_(k._util.isAttributeSet(t))}},playbackRate:{get:function(){return w.playbackRate},set:function(t){w.playbackRate=t,k.dispatchEvent("ratechange")}},error:{get:function(){return N.error}}}),k._canPlaySrc=t.HTMLNullVideoElement._canPlaySrc,k.canPlayType=t.HTMLNullVideoElement.canPlayType,k}var a=16,o="",s=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;n.prototype={play:function(){var t=this;this.paused&&(this.paused=!1,this.startTime=Date.now(),this.playInterval=setInterval(function(){r(t)},a))},pause:function(){this.paused||(this.paused=!0,clearInterval(this.playInterval))},seekTo:function(t){t=0>t?0:t,t=t>this.duration?this.duration:t,this.currentTime=t}},t.HTMLNullVideoElement=function(t){return new i(t)},t.HTMLNullVideoElement._canPlaySrc=function(t){return s.test(t)?"probably":o},t.HTMLNullVideoElement.canPlayType=function(t){return"video/x-nullvideo"===t?"probably":o}}(Popcorn,document);